(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27269,e=>{"use strict";var a=e.i(71645);let t=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M236,128a108,108,0,0,1-216,0c0-42.52,24.73-81.34,63-98.9A12,12,0,1,1,93,50.91C63.24,64.57,44,94.83,44,128a84,84,0,0,0,168,0c0-33.17-19.24-63.43-49-77.09A12,12,0,1,1,173,29.1C211.27,46.66,236,85.48,236,128Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),a.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,176A72,72,0,0,1,92,65.64a8,8,0,0,1,8,13.85,56,56,0,1,0,56,0,8,8,0,0,1,8-13.85A72,72,0,0,1,128,200Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M230,128a102,102,0,0,1-204,0c0-40.18,23.35-76.86,59.5-93.45a6,6,0,0,1,5,10.9C58.61,60.09,38,92.49,38,128a90,90,0,0,0,180,0c0-35.51-20.61-67.91-52.5-82.55a6,6,0,0,1,5-10.9C206.65,51.14,230,87.82,230,128Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M228,128a100,100,0,0,1-200,0c0-39.4,22.9-75.37,58.33-91.63a4,4,0,1,1,3.34,7.27C57.07,58.6,36,91.71,36,128a92,92,0,0,0,184,0c0-36.29-21.07-69.4-53.67-84.36a4,4,0,1,1,3.34-7.27C205.1,52.63,228,88.6,228,128Z"}))]]);e.s(["default",()=>t])},87583,e=>{"use strict";var a=e.i(71645),t=e.i(69464),l=e.i(27269);let r=a.forwardRef((e,r)=>a.createElement(t.default,{ref:r,...e,weights:l.default}));r.displayName="CircleNotchIcon",e.s(["CircleNotch",()=>r])},72587,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(27269);let r=a.forwardRef((e,r)=>a.createElement(t.default,{ref:r,...e,weights:l.default}));r.displayName="CircleNotchIcon",e.s(["CircleNotch",()=>r])},96e3,e=>{"use strict";var a=e.i(71645);let t=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),a.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"}))]]);e.s(["default",()=>t])},60891,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(96e3);let r=a.forwardRef((e,r)=>a.createElement(t.default,{ref:r,...e,weights:l.default}));r.displayName="TrashIcon",e.s(["Trash",()=>r])},22008,e=>{"use strict";var a=e.i(71645);let t=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM91,204H52V165l84-84,39,39ZM192,103,153,64l18.34-18.34,39,39Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M221.66,90.34,192,120,136,64l29.66-29.66a8,8,0,0,1,11.31,0L221.66,79A8,8,0,0,1,221.66,90.34Z",opacity:"0.2"}),a.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M225.9,74.78,181.21,30.09a14,14,0,0,0-19.8,0L38.1,153.41a13.94,13.94,0,0,0-4.1,9.9V208a14,14,0,0,0,14,14H92.69a13.94,13.94,0,0,0,9.9-4.1L225.9,94.58a14,14,0,0,0,0-19.8ZM94.1,209.41a2,2,0,0,1-1.41.59H48a2,2,0,0,1-2-2V163.31a2,2,0,0,1,.59-1.41L136,72.48,183.51,120ZM217.41,86.1,192,111.51,144.49,64,169.9,38.58a2,2,0,0,1,2.83,0l44.68,44.69a2,2,0,0,1,0,2.83Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224.49,76.2,179.8,31.51a12,12,0,0,0-17,0L133.17,61.17h0L39.52,154.83A11.9,11.9,0,0,0,36,163.31V208a12,12,0,0,0,12,12H92.69a12,12,0,0,0,8.48-3.51L224.48,93.17a12,12,0,0,0,0-17Zm-129,134.63A4,4,0,0,1,92.69,212H48a4,4,0,0,1-4-4V163.31a4,4,0,0,1,1.17-2.83L136,69.65,186.34,120ZM218.83,87.51,192,114.34,141.66,64l26.82-26.83a4,4,0,0,1,5.66,0l44.69,44.68a4,4,0,0,1,0,5.66Z"}))]]);e.s(["default",()=>t])},13702,e=>{"use strict";var a=e.i(71645),t=e.i(69464),l=e.i(22008);let r=a.forwardRef((e,r)=>a.createElement(t.default,{ref:r,...e,weights:l.default}));r.displayName="PencilSimpleIcon",e.s(["PencilSimple",()=>r])},35879,e=>{"use strict";var a=e.i(43476),t=e.i(90615),l=e.i(13702),r=e.i(66314),n=e.i(87583),s=e.i(22016),i=e.i(57688),c=e.i(71645),d=e.i(60891),m=e.i(72587),o=e.i(18566);function h({departmentId:e,departmentName:t}){let[l,r]=(0,c.useState)(!1),[n,s]=(0,c.useState)(!1),[i,h]=(0,c.useState)(null),u=(0,o.useRouter)(),p=async()=>{r(!0),h(null);try{let a=await fetch(`/api/departments?id=${e}`,{method:"DELETE"}),t=await a.json();if(!t.success)throw Error(t.error||"Failed to delete department");s(!1),u.refresh()}catch(e){console.error("Delete error:",e),h(e.message)}finally{r(!1)}};return n?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white p-8 max-w-md w-full shadow-2xl space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-2",children:"Delete Department?"}),(0,a.jsxs)("p",{className:"text-neutral-500",children:["Are you sure you want to delete ",(0,a.jsx)("span",{className:"font-bold text-black",children:t}),"? This action cannot be undone."]})]}),i&&(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 text-red-700 text-sm",children:i}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>{s(!1),h(null)},className:"flex-1 px-6 py-3 border border-neutral-200 font-bold hover:bg-neutral-50 transition-colors",disabled:l,children:"Cancel"}),(0,a.jsx)("button",{onClick:p,className:"flex-1 px-6 py-3 bg-black text-white font-bold hover:bg-neutral-800 transition-colors flex items-center justify-center gap-2",disabled:l,children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.CircleNotch,{size:18,weight:"bold",className:"animate-spin"}),"Deleting..."]}):"Yes, Delete"})]})]})}):(0,a.jsx)("button",{onClick:()=>s(!0),className:"p-3 bg-red-50 text-red-500 hover:bg-red-500 hover:text-white transition-all duration-300 shadow-sm",title:"Delete Department",children:(0,a.jsx)(d.Trash,{size:18,weight:"bold"})})}function u(){let[e,d]=(0,c.useState)([]),[m,o]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{let e=(0,t.createClient)();try{let{data:a}=await e.from("Department").select(`
                        *,
                        school:School(name),
                        headOfDepartment:Faculty!headOfDepartmentId(name)
                    `).order("name",{ascending:!0});d(a||[])}catch(e){console.error("Error fetching departments:",e)}finally{o(!1)}})()},[]);let u={};return(e.forEach(e=>{let a=e.school?.name||"Unassigned";u[a]||(u[a]=[]),u[a].push(e)}),m)?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(n.CircleNotch,{className:"animate-spin text-neutral-400",size:40,weight:"bold"})}):(0,a.jsxs)("div",{className:"max-w-7xl mx-auto pb-24 animate-in fade-in duration-500",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-12",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2 text-neutral-900 tracking-tight",children:"Academic Departments"}),(0,a.jsx)("p",{className:"text-neutral-500 font-medium",children:"Manage department details, featured images, and leadership."})]})}),(0,a.jsxs)("div",{className:"space-y-16",children:[Object.entries(u).map(([e,t])=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 pb-4 border-b border-neutral-100",children:[(0,a.jsx)(r.Buildings,{size:24,weight:"bold",className:"text-neutral-300"}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-neutral-900",children:e})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>(0,a.jsxs)("div",{className:"bg-white border border-neutral-100 overflow-hidden group hover:shadow-xl hover:border-black transition-all duration-500 rounded-sm",children:[(0,a.jsxs)("div",{className:"aspect-[16/9] relative bg-neutral-100 overflow-hidden",children:[(0,a.jsx)(i.default,{src:e.imageUrl||`/images/placeholders/${e.slug}.png`,alt:e.name,fill:!0,className:"object-cover opacity-80 group-hover:opacity-100 transition-all duration-700 grayscale group-hover:grayscale-0",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex gap-2 z-10 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,a.jsx)(s.default,{href:`/admin/departments/edit?id=${e.id}`,className:"bg-white/90 backdrop-blur-sm p-3 hover:bg-black hover:text-white transition-all duration-300 shadow-sm border border-neutral-200",children:(0,a.jsx)(l.PencilSimple,{size:18,weight:"bold"})}),(0,a.jsx)(h,{departmentId:e.id,departmentName:e.name})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-1 text-neutral-900",children:["Department of ",e.name.replace("Department of","").trim()]}),(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 tracking-widest mb-4",children:e.slug}),(0,a.jsxs)("div",{className:"pt-4 border-t border-neutral-50 border-dashed",children:[(0,a.jsx)("p",{className:"text-[10px] font-bold uppercase text-neutral-400 mb-1",children:"Head of Department"}),(0,a.jsx)("p",{className:"text-sm font-bold text-neutral-800",children:e.headOfDepartment?.name||"To be appointed"})]})]})]},e.id))})]},e)),0===e.length&&(0,a.jsxs)("div",{className:"p-20 text-center border-2 border-dashed border-neutral-100 rounded-3xl",children:[(0,a.jsx)(r.Buildings,{size:48,weight:"regular",className:"mx-auto mb-4 opacity-10"}),(0,a.jsx)("p",{className:"font-bold uppercase tracking-widest text-neutral-400 text-xs",children:"No active departments found."})]})]})]})}e.s(["default",()=>u],35879)}]);