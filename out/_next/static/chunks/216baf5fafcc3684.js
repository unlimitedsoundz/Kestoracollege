(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58697,e=>{"use strict";function t(e){if(!e)return"-";let t=new Date(e);if(isNaN(t.getTime()))return"-";let a=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),l=t.getFullYear();return`${a}/${r}/${l}`}e.s(["formatToDDMMYYYY",()=>t])},73987,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M160,48V208L80,128Z",opacity:"0.2"}),t.createElement("path",{d:"M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"}))]]);e.s(["default",()=>a])},14444,e=>{"use strict";var t=e.i(71645),a=e.i(75108),r=e.i(73987);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:r.default}));l.displayName="CaretLeftIcon",e.s(["CaretLeft",()=>l])},38884,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm45.66,85.66-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76ZM230,128A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M170.83,101.17a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17ZM228,128A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"}))]]);e.s(["default",()=>a])},9089,e=>{"use strict";var t=e.i(71645),a=e.i(75108),r=e.i(38884);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:r.default}));l.displayName="CheckCircleIcon",e.s(["CheckCircle",()=>l])},38013,e=>{"use strict";var t=e.i(71645),a=e.i(75108),r=e.i(59388);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:r.default}));l.displayName="PlusIcon",e.s(["Plus",()=>l])},8145,e=>{"use strict";e.i(29225);var t=e.i(72390);function a(){return(0,t.createBrowserClient)("https://mrqzlmkdhzwvbpljikjz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ycXpsbWtkaHp3dmJwbGppa2p6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1MTI5ODMsImV4cCI6MjA4NTA4ODk4M30.ILwXM7fhNnip6Mq5HF04poDCzdhcNO69AVnYmheSmeY")}e.s(["createAdminClient",()=>a])},44876,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"}))]]);e.s(["default",()=>a])},49427,e=>{"use strict";var t=e.i(71645),a=e.i(75108),r=e.i(44876);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:r.default}));l.displayName="ClockIcon",e.s(["Clock",()=>l])},96e3,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),t.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"}))]]);e.s(["default",()=>a])},60891,e=>{"use strict";var t=e.i(71645),a=e.i(75108),r=e.i(96e3);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:r.default}));l.displayName="TrashIcon",e.s(["Trash",()=>l])},34039,e=>{"use strict";var t=e.i(71645),a=e.i(75108),r=e.i(59721);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:r.default}));l.displayName="BookOpenIcon",e.s(["BookOpen",()=>l])},57693,e=>{"use strict";var t=e.i(71645),a=e.i(75108),r=e.i(25994);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:r.default}));l.displayName="MagnifyingGlassIcon",e.s(["MagnifyingGlass",()=>l])},1589,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"}))]]);e.s(["default",()=>a])},29587,e=>{"use strict";var t=e.i(71645),a=e.i(75108),r=e.i(1589);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:r.default}));l.displayName="WarningCircleIcon",e.s(["WarningCircle",()=>l])},88303,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M249.8,85.49l-116-64a12,12,0,0,0-11.6,0l-116,64a12,12,0,0,0,0,21l21.8,12v47.76a19.89,19.89,0,0,0,5.09,13.32C46.63,194.7,77,220,128,220a136.88,136.88,0,0,0,40-5.75V240a12,12,0,0,0,24,0V204.12a119.53,119.53,0,0,0,30.91-24.51A19.89,19.89,0,0,0,228,166.29V118.53l21.8-12a12,12,0,0,0,0-21ZM128,45.71,219.16,96,186,114.3a1.88,1.88,0,0,1-.18-.12l-52-28.69a12,12,0,0,0-11.6,21l39,21.49L128,146.3,36.84,96ZM128,196c-40.42,0-64.65-19.07-76-31.27v-33l70.2,38.74a12,12,0,0,0,11.6,0L168,151.64v37.23A110.46,110.46,0,0,1,128,196Zm76-31.27a93.21,93.21,0,0,1-12,10.81V138.39l12-6.62Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M216,113.07v53.22a8,8,0,0,1-2,5.31c-11.3,12.59-38.9,36.4-86,36.4s-74.68-23.81-86-36.4a8,8,0,0,1-2-5.31V113.07L128,160Z",opacity:"0.2"}),t.createElement("path",{d:"M251.76,88.94l-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V240a8,8,0,0,0,16,0V199.51a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12ZM128,200c-43.27,0-68.72-21.14-80-33.71V126.4l76.24,40.66a8,8,0,0,0,7.52,0L176,143.47v46.34C163.4,195.69,147.52,200,128,200Zm80-33.75a97.83,97.83,0,0,1-16,14.25V134.93l16-8.53ZM188,118.94l-.22-.13-56-29.87a8,8,0,0,0-7.52,14.12L171,128l-43,22.93L25,96,128,41.07,231,96Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M176,207.24a119,119,0,0,0,16-7.73V240a8,8,0,0,1-16,0Zm11.76-88.43-56-29.87a8,8,0,0,0-7.52,14.12L171,128l17-9.06Zm64-29.87-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V130.67L171,128l-43,22.93L43.83,106l0,0L25,96,128,41.07,231,96l-18.78,10-.06,0L188,118.94a8,8,0,0,1,4,6.93v73.64a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M250.82,90.71l-120-64a5.94,5.94,0,0,0-5.64,0l-120,64a6,6,0,0,0,0,10.58L34,116.67v49.62a14,14,0,0,0,3.55,9.32C50.42,189.94,79.29,214,128,214a127.21,127.21,0,0,0,50-9.73V240a6,6,0,0,0,12,0V198.35a113.18,113.18,0,0,0,28.45-22.75,13.91,13.91,0,0,0,3.55-9.31V116.67l28.82-15.38a6,6,0,0,0,0-10.58ZM128,202c-44,0-70-21.56-81.52-34.41a2,2,0,0,1-.48-1.3V123.07l79.18,42.22a6,6,0,0,0,5.64,0L178,140.13v51C165,197.35,148.45,202,128,202Zm82-35.71a2,2,0,0,1-.48,1.3A100.25,100.25,0,0,1,190,184.3V133.73l20-10.66Zm-22.15-45a6.27,6.27,0,0,0-1-.71l-56-29.86a6,6,0,0,0-5.64,10.58L175.25,128,128,153.2,20.75,96,128,38.8,235.25,96Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M251.76,88.94l-120-64a8,8,0,0,0-7.52,0l-120,64a8,8,0,0,0,0,14.12L32,117.87v48.42a15.91,15.91,0,0,0,4.06,10.65C49.16,191.53,78.51,216,128,216a130,130,0,0,0,48-8.76V240a8,8,0,0,0,16,0V199.51a115.63,115.63,0,0,0,27.94-22.57A15.91,15.91,0,0,0,224,166.29V117.87l27.76-14.81a8,8,0,0,0,0-14.12ZM128,200c-43.27,0-68.72-21.14-80-33.71V126.4l76.24,40.66a8,8,0,0,0,7.52,0L176,143.47v46.34C163.4,195.69,147.52,200,128,200Zm80-33.75a97.83,97.83,0,0,1-16,14.25V134.93l16-8.53ZM188,118.94l-.22-.13-56-29.87a8,8,0,0,0-7.52,14.12L171,128l-43,22.93L25,96,128,41.07,231,96Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M249.88,92.47l-120-64a4,4,0,0,0-3.76,0l-120,64a4,4,0,0,0,0,7.06L36,115.47v50.82a11.92,11.92,0,0,0,3,8c12.65,14.09,41,37.73,89,37.73,21,0,38.2-4.52,52-10.79V240a4,4,0,0,0,8,0V197.18a111.64,111.64,0,0,0,29-22.91,11.94,11.94,0,0,0,3-8V115.47l29.88-15.94a4,4,0,0,0,0-7.06ZM128,204c-44.83,0-71.25-22-83-35.08a3.92,3.92,0,0,1-1-2.63V119.73l82.12,43.8a4,4,0,0,0,3.76,0L180,136.8v55.53C166.58,199,149.39,204,128,204Zm84-37.71a4,4,0,0,1-1,2.64,103.32,103.32,0,0,1-23,19v-55.4l24-12.8Zm-24.59-42.51a4,4,0,0,0-1.53-1.44l-56-29.87a4,4,0,0,0-3.76,7.06L179.5,128,128,155.47,16.5,96,128,36.53,239.5,96Z"}))]]);e.s(["default",()=>a])},38746,e=>{"use strict";var t=e.i(71645),a=e.i(75108),r=e.i(88303);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:r.default}));l.displayName="GraduationCapIcon",e.s(["GraduationCap",()=>l])},71189,e=>{"use strict";var t=e.i(8145);async function a(e,a){let r=(0,t.createAdminClient)();console.log(`[LMS Simulation] Provisioning account for ${e} (${a})...`);try{await new Promise(e=>setTimeout(e,800));let t=`LX-${Math.random().toString(36).substring(2,10).toUpperCase()}`,{error:l}=await r.from("students").update({lms_access_data:{account_provisioned:!0,provisioned_at:new Date().toISOString(),lms_token:t,sync_status:"SYNCED"}}).eq("id",e);if(l)throw l;return await r.from("audit_logs").insert({action:"LMS_ACCOUNT_PROVISIONED",entity_table:"students",entity_id:e,metadata:{lms_token:t,email:a}}),console.log(`[LMS Simulation] Account provisioned successfully for ${e}`),{success:!0,lmsToken:t}}catch(e){return console.error("[LMS Simulation] Provisioning failed:",e.message),{success:!1,error:e.message}}}async function r(e,a,r){let l=(0,t.createAdminClient)();console.log(`[LMS Simulation] Syncing module ${a} to LMS for student ${e}...`);try{return await new Promise(e=>setTimeout(e,500)),await l.from("audit_logs").insert({action:"LMS_COURSE_SYNC",entity_table:"module_enrollments",entity_id:`${e}:${a}`,metadata:{student_id:e,module_id:a,semester_id:r,status:"GRANTED"}}),console.log(`[LMS Simulation] Sync completed for ${e} -> ${a}`),{success:!0}}catch(e){return console.error("[LMS Simulation] Sync failed:",e.message),{success:!1,error:e.message}}}e.s(["provisionLmsAccount",()=>a,"syncEnrollmentToLms",()=>r])},71318,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(90615),l=e.i(18566),s=e.i(22016),i=e.i(14444),n=e.i(8145),d=e.i(71189);async function c(e){let t=await (0,r.createClient)(),a=(0,n.createAdminClient)(),{data:{user:l}}=await t.auth.getUser();if(!l)throw Error("Unauthorized");try{let{data:t,error:r}=await a.from("students").select("id, enrollment_status, user_id, program_id").eq("user_id",l.id).single();if(r||!t)throw Error("Student record not found");if("ACTIVE"!==t.enrollment_status)throw Error("Only active students can register for courses.");let{data:s,error:i}=await a.from("Subject").select("*").eq("id",e).single();if(i||!s)throw Error("Subject not found");if(s.courseId!==t.program_id)throw Error("This subject is not part of your enrolled program.");let{data:n,error:c}=await a.from("registration_windows").select("*, semesters(*)").eq("status","OPEN").order("open_at",{ascending:!1}).limit(1).single();if(c||!n)throw Error("Registration window is currently closed.");let{data:o}=await a.from("module_enrollments").select("subject_id").eq("student_id",t.id).eq("semester_id",n.semester_id).eq("status","REGISTERED"),m=0;if(o&&o.length>0){let e=o.map(e=>e.subject_id).filter(Boolean),{data:t}=await a.from("Subject").select("creditUnits").in("id",e);m=(t||[]).reduce((e,t)=>e+(t.creditUnits||0),0)}if(m+s.creditUnits>35)throw Error("Credit limit exceeded. Maximum per semester is 35 ECTS.");let{error:u}=await a.from("module_enrollments").upsert({student_id:t.id,subject_id:e,semester_id:n.semester_id,status:"REGISTERED",updated_at:new Date().toISOString()},{onConflict:"student_id, subject_id, semester_id"});if(u)throw u;await a.from("audit_logs").insert({action:"SUBJECT_REGISTRATION",entity_table:"module_enrollments",entity_id:e,actor_id:l.id,metadata:{subject_code:s.code,semester:n.semesters.name,credits:s.creditUnits}});try{await (0,d.syncEnrollmentToLms)(t.id,e,n.semester_id)}catch(e){console.error("LMS Course Sync failed:",e)}return{success:!0,message:`Successfully registered for ${s.code}`}}catch(e){return console.error("Registration Error:",e.message),{success:!1,error:e.message}}}async function o(e){let t=await (0,r.createClient)(),a=(0,n.createAdminClient)(),{data:{user:l}}=await t.auth.getUser();if(!l)throw Error("Unauthorized");try{let{data:t,error:r}=await a.from("module_enrollments").select("*").eq("id",e).single();if(r||!t)throw Error("Enrollment not found");let{data:s,error:i}=await a.from("registration_windows").select("*").eq("semester_id",t.semester_id).eq("status","OPEN").single();if(i||!s)throw Error("Registration window is currently closed for this term.");let n=new Date(s.add_drop_deadline);if(new Date>n)throw Error("The add/drop deadline has passed.");let{error:d}=await a.from("module_enrollments").update({status:"DROPPED",updated_at:new Date().toISOString()}).eq("id",e);if(d)throw d;return await a.from("audit_logs").insert({action:"MODULE_DROPPED",entity_table:"module_enrollments",entity_id:e,actor_id:l.id}),{success:!0}}catch(e){return{success:!1,error:e.message}}}var m=e.i(34039),u=e.i(9089),p=e.i(29587),h=e.i(57693),f=e.i(38013),g=e.i(60891),x=e.i(49427),w=e.i(18436),b=e.i(38746),E=e.i(58697),Z=e.i(80586);function v({student:e,window:r,modules:s,initialEnrollments:i,onRefresh:n}){(0,l.useRouter)();let[d,v]=(0,a.useState)(""),[j,y]=(0,a.useState)(!1),[M,N]=(0,a.useTransition)(),[A,V]=(0,a.useState)(null);(0,a.useEffect)(()=>{y(!0)},[]);let _=i.reduce((e,t)=>e+(t.module?.credits||0),0),C=_/35*100,S=s.filter(e=>e.code.toLowerCase().includes(d.toLowerCase())||e.title.toLowerCase().includes(d.toLowerCase())),L=async e=>{V(null),N(async()=>{let t=await c(e);t.success?await n():V(t.error||"Registration failed")})},H=async e=>{let t=i.find(t=>t.module_id===e);!t||confirm("Are you sure you want to drop this module? Academic rules may apply.")&&(V(null),N(async()=>{let e=await o(t.id);e.success?await n():V(e.error)}))};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 bg-white p-6 rounded-xl border border-neutral-200 shadow-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-primary font-bold text-[10px] uppercase tracking-widest mb-1 leading-none",children:[(0,t.jsx)(b.GraduationCap,{size:14,weight:"bold"}),"Academic Systems • Course Registration"]}),(0,t.jsx)("h1",{className:"text-2xl font-black text-neutral-900 mb-1 leading-none",children:"Course Enrollment"}),(0,t.jsxs)("p",{className:"text-neutral-500 font-medium",children:[r?.semester?.name||"Academic Term"," • Registration Window:",(0,t.jsx)("span",{className:r?.status==="OPEN"?"text-primary ml-1":"text-amber-600 ml-1",children:r?.status||"Closed"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,t.jsx)("p",{className:"text-xs font-bold text-neutral-400 uppercase tracking-widest leading-none mb-1",children:"Student"}),(0,t.jsxs)("p",{className:"font-bold text-neutral-900",children:[e.user?.first_name," ",e.user?.last_name]}),(0,t.jsx)("p",{className:"text-[10px] text-neutral-400 font-mono",children:e.user?.student_id||e.student_id})]}),(0,t.jsx)(Z.UserAvatar,{src:e.user?.avatar_url,firstName:e.user?.first_name,email:e.user?.email,size:"md"})]})]}),A&&(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 p-4 rounded-xl flex items-start gap-3 text-red-700 animate-in fade-in slide-in-from-top-2",children:[(0,t.jsx)(p.WarningCircle,{size:20,className:"mt-0.5 shrink-0"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:A})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-white p-5 rounded-xl border border-neutral-200 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-[10px] font-black uppercase tracking-widest text-neutral-400 mb-4",children:"Study Load"}),(0,t.jsxs)("div",{className:"flex justify-between items-end mb-2",children:[(0,t.jsx)("span",{className:"text-3xl font-black text-neutral-900",children:_}),(0,t.jsxs)("span",{className:"text-sm font-bold text-neutral-400",children:["/ ",35," ECTS"]})]}),(0,t.jsx)("div",{className:"h-2 w-full bg-neutral-100 rounded-full overflow-hidden mb-4",children:(0,t.jsx)("div",{className:`h-full transition-all duration-500 rounded-full ${C>90?"bg-red-500":C>70?"bg-amber-500":"bg-primary"}`,style:{width:`${Math.min(C,100)}%`}})}),(0,t.jsxs)("ul",{className:"space-y-4 pt-4 border-t border-neutral-50",children:[(0,t.jsxs)("li",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Registered Courses"}),(0,t.jsx)("span",{className:"font-bold",children:i.length})]}),(0,t.jsxs)("li",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-neutral-500",children:"Status"}),(0,t.jsxs)("span",{className:"text-primary font-bold flex items-center gap-1",children:[(0,t.jsx)(u.CheckCircle,{size:14,weight:"bold"})," Active"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-black text-white p-5 rounded-xl shadow-xl space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-white/10 rounded-lg",children:(0,t.jsx)(x.Clock,{size:20,weight:"bold",className:"text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-white uppercase tracking-widest opacity-70",children:"Window Ends"}),(0,t.jsx)("p",{className:"font-bold text-white",children:r?j?(0,E.formatToDDMMYYYY)(r.close_at):"...":"N/A"})]})]}),(0,t.jsx)("p",{className:"text-xs text-white leading-relaxed",children:"Registration window is open. You can add or drop subjects freely until the deadline."})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.MagnifyingGlass,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Search by code or title...",className:"w-full pl-10 pr-4 py-3 bg-white border border-neutral-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-black/5 focus:border-black transition-all text-sm",value:d,onChange:e=>v(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[S.map(e=>{let a,l=(a=e.id,i.some(e=>e.module_id===a&&"REGISTERED"===e.status));return(0,t.jsxs)("div",{className:`bg-white border p-5 rounded-xl transition-all group flex flex-col md:flex-row gap-4 ${l?"border-primary/30 bg-primary/5 shadow-sm":"border-neutral-200 hover:border-neutral-300"}`,children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"text-[10px] font-mono font-bold bg-neutral-100 px-2 py-0.5 rounded text-neutral-500",children:e.code}),(0,t.jsxs)("span",{className:"text-[10px] font-bold bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded uppercase",children:[e.credits," ECTS"]})]}),(0,t.jsx)("h3",{className:"text-lg font-bold text-neutral-900 group-hover:text-black mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-neutral-500 mb-4 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-xs font-medium text-neutral-400",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(w.User,{size:14})," ",e.instructor]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(m.BookOpen,{size:14})," ",e.academic_level]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5 text-[#fd6402]/80",children:[(0,t.jsx)(p.WarningCircle,{size:14})," Prereq: ",e.prerequisites||"None"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col justify-between items-end gap-4 min-w-[120px]",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-neutral-400 uppercase tracking-widest mb-1",children:"Availability"}),(0,t.jsxs)("p",{className:"text-xs font-bold text-neutral-900",children:[e.capacity," Seats Total"]})]}),l?(0,t.jsxs)("button",{onClick:()=>H(e.id),disabled:M,className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-red-50 text-red-600 rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-red-100 transition-all disabled:opacity-50",children:[(0,t.jsx)(g.Trash,{size:14,weight:"bold"})," Drop"]}):(0,t.jsxs)("button",{onClick:()=>L(e.id),disabled:M||r?.status!=="OPEN",className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-neutral-900 text-white rounded-xl text-xs font-bold uppercase tracking-widest hover:bg-black transition-all disabled:opacity-50",children:[(0,t.jsx)(f.Plus,{size:14,weight:"bold"})," Register"]})]})]},e.id)}),0===S.length&&(0,t.jsxs)("div",{className:"text-center py-20 bg-neutral-50 rounded-3xl border border-dashed border-neutral-200",children:[(0,t.jsx)(h.MagnifyingGlass,{className:"mx-auto text-neutral-300 mb-4",size:48}),(0,t.jsx)("p",{className:"text-neutral-500 font-medium",children:"No subjects found matching your search."})]})]})]})]})]})}function j(){let[e,n]=(0,a.useState)(!0),[d,c]=(0,a.useState)(null),o=(0,l.useRouter)(),m=(0,r.createClient)(),u=async()=>{n(!0);try{let{data:{user:e}}=await m.auth.getUser(),t=e?.email,a=e?.id;if(!e){let e=localStorage.getItem("Kestora_user");if(e){let r=JSON.parse(e);t=r.email,a=r.id}}if(!t)return void o.push("/portal/account/login");let{data:r}=await m.from("students").select("*, program:Course(*), user:profiles(*)").eq("user_id",a||"").order("created_at",{ascending:!1}).limit(1).single();if(!r)return void o.push("/portal/dashboard");let{data:l}=await m.from("registration_windows").select("*, semester:semesters(*)").eq("status","OPEN").order("open_at",{ascending:!1}).limit(1).single(),{data:s}=await m.from("Subject").select("*").eq("courseId",r.program_id).order("code",{ascending:!0}),i=s?.map(e=>e.code)||[],{data:n}=await m.from("modules").select("*").in("code",i),d=new Map(n?.map(e=>[e.code,e])),{data:u}=await m.from("module_enrollments").select("*, subject:Subject(*)").eq("student_id",r.id).eq("semester_id",l?.semester_id).eq("status","REGISTERED"),p=(s||[]).map(e=>{let t=d.get(e.code);return{id:e.id,code:e.code,title:e.name,credits:e.creditUnits,description:t?.description||`Curriculum subject for ${r.program?.title||"your program"}.`,capacity:t?.capacity||100,instructor:t?.instructor||"Department Faculty",academic_level:t?.academic_level||r.program?.degreeLevel||"Bachelor",prerequisites:e.eligibility||"None"}}),h=(u||[]).map(e=>({...e,module_id:e.subject_id,module:e.subject?{id:e.subject.id,title:e.subject.name,credits:e.subject.creditUnits}:null}));c({student:r,window:l,modules:p,initialEnrollments:h})}catch(e){console.error("CRITICAL: Fetching registration data failed",e)}finally{n(!1)}};return((0,a.useEffect)(()=>{u()},[m,o]),e)?(0,t.jsx)("div",{className:"min-h-screen bg-neutral-50/50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-neutral-900"})}):d?(0,t.jsx)("div",{className:"min-h-screen bg-neutral-50/50 p-2 md:p-6",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)(s.default,{href:"/portal/student",className:"inline-flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-neutral-500 hover:text-black transition-colors",children:[(0,t.jsx)(i.CaretLeft,{size:14})," Back to Dashboard"]})}),(0,t.jsx)(v,{student:d.student,window:d.window,modules:d.modules,initialEnrollments:d.initialEnrollments,onRefresh:u})]})}):null}e.s(["default",()=>j],71318)}]);