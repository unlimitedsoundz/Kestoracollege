(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58697,e=>{"use strict";function a(e){if(!e)return"-";let a=new Date(e);if(isNaN(a.getTime()))return"-";let t=String(a.getDate()).padStart(2,"0"),l=String(a.getMonth()+1).padStart(2,"0"),s=a.getFullYear();return`${t}/${l}/${s}`}e.s(["formatToDDMMYYYY",()=>a])},38013,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(59388);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="PlusIcon",e.s(["Plus",()=>s])},27269,e=>{"use strict";var a=e.i(71645);let t=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M236,128a108,108,0,0,1-216,0c0-42.52,24.73-81.34,63-98.9A12,12,0,1,1,93,50.91C63.24,64.57,44,94.83,44,128a84,84,0,0,0,168,0c0-33.17-19.24-63.43-49-77.09A12,12,0,1,1,173,29.1C211.27,46.66,236,85.48,236,128Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),a.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,176A72,72,0,0,1,92,65.64a8,8,0,0,1,8,13.85,56,56,0,1,0,56,0,8,8,0,0,1,8-13.85A72,72,0,0,1,128,200Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M230,128a102,102,0,0,1-204,0c0-40.18,23.35-76.86,59.5-93.45a6,6,0,0,1,5,10.9C58.61,60.09,38,92.49,38,128a90,90,0,0,0,180,0c0-35.51-20.61-67.91-52.5-82.55a6,6,0,0,1,5-10.9C206.65,51.14,230,87.82,230,128Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M228,128a100,100,0,0,1-200,0c0-39.4,22.9-75.37,58.33-91.63a4,4,0,1,1,3.34,7.27C57.07,58.6,36,91.71,36,128a92,92,0,0,0,184,0c0-36.29-21.07-69.4-53.67-84.36a4,4,0,1,1,3.34-7.27C205.1,52.63,228,88.6,228,128Z"}))]]);e.s(["default",()=>t])},87583,e=>{"use strict";var a=e.i(71645),t=e.i(69464),l=e.i(27269);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="CircleNotchIcon",e.s(["CircleNotch",()=>s])},73987,e=>{"use strict";var a=e.i(71645);let t=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M160,48V208L80,128Z",opacity:"0.2"}),a.createElement("path",{d:"M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"}))]]);e.s(["default",()=>t])},90961,e=>{"use strict";var a=e.i(71645),t=e.i(69464),l=e.i(73987);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="CaretLeftIcon",e.s(["CaretLeft",()=>s])},44876,e=>{"use strict";var a=e.i(71645);let t=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"}))]]);e.s(["default",()=>t])},49427,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(44876);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="ClockIcon",e.s(["Clock",()=>s])},31659,e=>{"use strict";var a=e.i(71645);let t=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M168.49,104.49,145,128l23.52,23.51a12,12,0,0,1-17,17L128,145l-23.51,23.52a12,12,0,0,1-17-17L111,128,87.51,104.49a12,12,0,0,1,17-17L128,111l23.51-23.52a12,12,0,0,1,17,17ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),a.createElement("path",{d:"M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,130.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M164.24,100.24,136.48,128l27.76,27.76a6,6,0,1,1-8.48,8.48L128,136.48l-27.76,27.76a6,6,0,0,1-8.48-8.48L119.52,128,91.76,100.24a6,6,0,0,1,8.48-8.48L128,119.52l27.76-27.76a6,6,0,0,1,8.48,8.48ZM230,128A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M162.83,98.83,133.66,128l29.17,29.17a4,4,0,0,1-5.66,5.66L128,133.66,98.83,162.83a4,4,0,0,1-5.66-5.66L122.34,128,93.17,98.83a4,4,0,0,1,5.66-5.66L128,122.34l29.17-29.17a4,4,0,1,1,5.66,5.66ZM228,128A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"}))]]);e.s(["default",()=>t])},27048,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(35878);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="BuildingsIcon",e.s(["Buildings",()=>s])},96e3,e=>{"use strict";var a=e.i(71645);let t=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),a.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"}))]]);e.s(["default",()=>t])},60891,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(96e3);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="TrashIcon",e.s(["Trash",()=>s])},22008,e=>{"use strict";var a=e.i(71645);let t=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM91,204H52V165l84-84,39,39ZM192,103,153,64l18.34-18.34,39,39Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M221.66,90.34,192,120,136,64l29.66-29.66a8,8,0,0,1,11.31,0L221.66,79A8,8,0,0,1,221.66,90.34Z",opacity:"0.2"}),a.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M225.9,74.78,181.21,30.09a14,14,0,0,0-19.8,0L38.1,153.41a13.94,13.94,0,0,0-4.1,9.9V208a14,14,0,0,0,14,14H92.69a13.94,13.94,0,0,0,9.9-4.1L225.9,94.58a14,14,0,0,0,0-19.8ZM94.1,209.41a2,2,0,0,1-1.41.59H48a2,2,0,0,1-2-2V163.31a2,2,0,0,1,.59-1.41L136,72.48,183.51,120ZM217.41,86.1,192,111.51,144.49,64,169.9,38.58a2,2,0,0,1,2.83,0l44.68,44.69a2,2,0,0,1,0,2.83Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M224.49,76.2,179.8,31.51a12,12,0,0,0-17,0L133.17,61.17h0L39.52,154.83A11.9,11.9,0,0,0,36,163.31V208a12,12,0,0,0,12,12H92.69a12,12,0,0,0,8.48-3.51L224.48,93.17a12,12,0,0,0,0-17Zm-129,134.63A4,4,0,0,1,92.69,212H48a4,4,0,0,1-4-4V163.31a4,4,0,0,1,1.17-2.83L136,69.65,186.34,120ZM218.83,87.51,192,114.34,141.66,64l26.82-26.83a4,4,0,0,1,5.66,0l44.69,44.68a4,4,0,0,1,0,5.66Z"}))]]);e.s(["default",()=>t])},74183,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(22008);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="PencilSimpleIcon",e.s(["PencilSimple",()=>s])},76798,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(31659);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="XCircleIcon",e.s(["XCircle",()=>s])},80429,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(66);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="XIcon",e.s(["X",()=>s])},83613,e=>{"use strict";var a=e.i(71645),t=e.i(75108),l=e.i(91359);let s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l.default}));s.displayName="HouseIcon",e.s(["House",()=>s])},6731,e=>{"use strict";var a=e.i(71645),t=e.i(75108);let l=new Map([["bold",a.createElement(a.Fragment,null,a.createElement("path",{d:"M192.94,189.66a12,12,0,0,1-.94,17A84,84,0,0,1,53.55,160H40a12,12,0,0,1,0-24H52V120H40a12,12,0,0,1,0-24H53.55A84,84,0,0,1,192,49.39a12,12,0,0,1-16,17.89A60,60,0,0,0,78.18,96H136a12,12,0,0,1,0,24H76v16h44a12,12,0,0,1,0,24H78.18A60,60,0,0,0,176,188.72,12,12,0,0,1,192.94,189.66Z"}))],["duotone",a.createElement(a.Fragment,null,a.createElement("path",{d:"M184,58.33V197.67A72,72,0,0,1,64,144V112A72,72,0,0,1,184,58.33Z",opacity:"0.2"}),a.createElement("path",{d:"M190,192.33a8,8,0,0,1-.63,11.3A80,80,0,0,1,56.4,152H40a8,8,0,0,1,0-16H56V120H40a8,8,0,0,1,0-16H56.4A80,80,0,0,1,189.34,52.37,8,8,0,0,1,178.66,64.3,64,64,0,0,0,72.52,104H136a8,8,0,0,1,0,16H72v16h48a8,8,0,0,1,0,16H72.52a64,64,0,0,0,106.14,39.71A8,8,0,0,1,190,192.33Z"}))],["fill",a.createElement(a.Fragment,null,a.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,80a8,8,0,0,1,0,16H88v16h24a8,8,0,0,1,0,16H88.81a40,40,0,0,0,65.86,21.82,8,8,0,1,1,10.66,11.92A56,56,0,0,1,72.58,152H64a8,8,0,0,1,0-16h8V120H64a8,8,0,0,1,0-16h8.58a56,56,0,0,1,92.75-33.74,8,8,0,1,1-10.66,11.92A40,40,0,0,0,88.81,104Z"}))],["light",a.createElement(a.Fragment,null,a.createElement("path",{d:"M188.47,193.66a6,6,0,0,1-.47,8.48A78,78,0,0,1,58.25,150H40a6,6,0,0,1,0-12H58V118H40a6,6,0,0,1,0-12H58.25A78,78,0,0,1,188,53.86a6,6,0,0,1-8,9A66,66,0,0,0,70.29,106H136a6,6,0,0,1,0,12H70v20h50a6,6,0,0,1,0,12H70.29A66,66,0,0,0,180,193.2,6,6,0,0,1,188.47,193.66Z"}))],["regular",a.createElement(a.Fragment,null,a.createElement("path",{d:"M190,192.33a8,8,0,0,1-.63,11.3A80,80,0,0,1,56.4,152H40a8,8,0,0,1,0-16H56V120H40a8,8,0,0,1,0-16H56.4A80,80,0,0,1,189.34,52.37,8,8,0,0,1,178.66,64.3,64,64,0,0,0,72.52,104H136a8,8,0,0,1,0,16H72v16h48a8,8,0,0,1,0,16H72.52a64,64,0,0,0,106.14,39.71A8,8,0,0,1,190,192.33Z"}))],["thin",a.createElement(a.Fragment,null,a.createElement("path",{d:"M187,195a4,4,0,0,1-.31,5.65A76,76,0,0,1,60.11,148H40a4,4,0,0,1,0-8H60V116H40a4,4,0,0,1,0-8H60.11A76,76,0,0,1,186.67,55.35a4,4,0,1,1-5.34,6A68,68,0,0,0,68.13,108H136a4,4,0,0,1,0,8H68v24h52a4,4,0,0,1,0,8H68.13a68,68,0,0,0,113.2,46.69A4,4,0,0,1,187,195Z"}))]]),s=a.forwardRef((e,s)=>a.createElement(t.default,{ref:s,...e,weights:l}));s.displayName="CurrencyEurIcon",e.s(["CurrencyEur",()=>s],6731)},25294,e=>{"use strict";var a=e.i(43476),t=e.i(90615),l=e.i(22016),s=e.i(90961),n=e.i(87583),r=e.i(71645),i=e.i(74183),c=e.i(60891),o=e.i(83613),d=e.i(49427),m=e.i(76798),u=e.i(27048),p=e.i(75108);let h=new Map([["bold",r.createElement(r.Fragment,null,r.createElement("path",{d:"M212,68H36V48a12,12,0,0,0-24,0V208a12,12,0,0,0,24,0V180H232v28a12,12,0,0,0,24,0V112A44.05,44.05,0,0,0,212,68ZM100,156H36V92h64Zm132,0H124V92h88a20,20,0,0,1,20,20Z"}))],["duotone",r.createElement(r.Fragment,null,r.createElement("path",{d:"M248,112v56H112V80H216A32,32,0,0,1,248,112Z",opacity:"0.2"}),r.createElement("path",{d:"M216,72H32V48a8,8,0,0,0-16,0V208a8,8,0,0,0,16,0V176H240v32a8,8,0,0,0,16,0V112A40,40,0,0,0,216,72ZM32,88h72v72H32Zm88,72V88h96a24,24,0,0,1,24,24v48Z"}))],["fill",r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,72H32V48a8,8,0,0,0-16,0V208a8,8,0,0,0,16,0V176H240v32a8,8,0,0,0,16,0V112A40,40,0,0,0,216,72ZM32,88h72v72H32Z"}))],["light",r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,74H30V48a6,6,0,0,0-12,0V208a6,6,0,0,0,12,0V174H242v34a6,6,0,0,0,12,0V112A38,38,0,0,0,216,74ZM30,86h76v76H30Zm88,76V86h98a26,26,0,0,1,26,26v50Z"}))],["regular",r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,72H32V48a8,8,0,0,0-16,0V208a8,8,0,0,0,16,0V176H240v32a8,8,0,0,0,16,0V112A40,40,0,0,0,216,72ZM32,88h72v72H32Zm88,72V88h96a24,24,0,0,1,24,24v48Z"}))],["thin",r.createElement(r.Fragment,null,r.createElement("path",{d:"M216,76H28V48a4,4,0,0,0-8,0V208a4,4,0,0,0,8,0V172H244v36a4,4,0,0,0,8,0V112A36,36,0,0,0,216,76ZM28,84h80v80H28Zm88,80V84H216a28,28,0,0,1,28,28v52Z"}))]]),x=r.forwardRef((e,a)=>r.createElement(p.default,{ref:a,...e,weights:h}));x.displayName="BedIcon";var b=e.i(6731),g=e.i(38013),f=e.i(58243),v=e.i(80429),j=e.i(58697);function N({applications:e,availableRooms:s,assignments:n,buildings:p,onRefresh:h}){let[N,w]=(0,r.useState)("applications"),[y,k]=(0,r.useState)(null),[_,E]=(0,r.useState)(null),[A,H]=(0,r.useState)(!1),[Z,V]=(0,r.useState)(!1),[M,C]=(0,r.useState)(""),[L,F]=(0,r.useState)(!1),[R,S]=(0,r.useState)(!1),[D,P]=(0,r.useState)({name:"",campus_location:""}),[I,B]=(0,r.useState)({building_id:"",room_number:"",capacity:1,monthly_rate:600}),[z,T]=(0,r.useState)(null),[q,$]=(0,r.useState)({name:"",campus_location:""}),[O,Y]=(0,r.useState)(null),[X,U]=(0,r.useState)({room_number:"",capacity:1,monthly_rate:600}),G=e.filter(e=>{let a=n.some(a=>a.application_id===e.id);return("PENDING"===e.status||"APPROVED"===e.status)&&!a}),K=e.filter(e=>"APPROVED"===e.status);e.filter(e=>"REJECTED"===e.status);let J={totalApplications:e.length,pending:G.length,approved:K.length,totalAssignments:n.length,availableRooms:s.length,totalBuildings:p.length},Q=async(e,a)=>{V(!0),C("");try{let l=(0,t.createClient)(),{data:s,error:n}=await l.from("housing_applications").select("*").eq("id",e).single();if(n||!s)throw Error(`Application not found: ${n?.message}`);let{data:r,error:i}=await l.from("students").select("id, user:profiles(email, first_name, last_name)").eq("id",s.student_id).single();if(i||!r)throw Error(`Student not found: ${i?.message}`);let{data:c,error:o}=await l.from("housing_rooms").select("*, building:housing_buildings(name)").eq("id",a).eq("status","AVAILABLE").single();if(o||!c)throw Error("Room not available");let{error:d}=await l.from("housing_assignments").insert({application_id:e,room_id:a,student_id:r.id,start_date:s.move_in_date,end_date:s.move_out_date,status:"ASSIGNED"});if(d)throw d;let m=new Date;m.setDate(m.getDate()+14);let u=`INV-${new Date().getFullYear()}-${Math.floor(1e3+9e3*Math.random())}`,{data:p,error:x}=await l.from("housing_invoices").insert({student_id:r.id,application_id:e,reference_number:u,total_amount:c.monthly_rate,paid_amount:0,currency:"EUR",status:"PENDING",due_date:m.toISOString(),description:`Housing Rent - ${c.building?.name} Room ${c.room_number}`,metadata:{month:new Date().toLocaleString("default",{month:"long",year:"numeric"}),room_id:a}}).select().single();if(x)throw Error(`Assignment created, but invoice failed: ${x.message}`);if(p){let{error:e}=await l.from("housing_invoice_items").insert({invoice_id:p.id,description:`Monthly Rent - Room ${c.room_number}`,amount:c.monthly_rate,quantity:1,item_type:"MONTHLY_RENT"});e&&console.error("Failed to create invoice item:",e)}await Promise.all([l.from("housing_applications").update({status:"APPROVED"}).eq("id",e),l.from("housing_rooms").update({status:"OCCUPIED"}).eq("id",a)]),H(!1),await h()}catch(e){C(e.message||"An error occurred")}finally{V(!1)}},W=async e=>{if(window.confirm("Are you sure you want to PERMANENTLY delete this housing application? This will also remove associated invoices and payment records.")){V(!0);try{let a=(0,t.createClient)(),{data:l}=await a.from("housing_invoices").select("id").eq("application_id",e);if(l&&l.length>0){let e=l.map(e=>e.id);await a.from("housing_payments").delete().in("invoice_id",e),await a.from("housing_invoice_items").delete().in("invoice_id",e),await a.from("housing_invoices").delete().in("id",e)}let{data:s}=await a.from("housing_assignments").select("room_id").eq("application_id",e);s&&s.length>0&&await a.from("housing_rooms").update({status:"AVAILABLE"}).in("id",s.map(e=>e.room_id)),await a.from("housing_deposits").delete().eq("application_id",e),await a.from("housing_assignments").delete().eq("application_id",e),await a.from("housing_audit_logs").delete().eq("target_id",e);let{error:n}=await a.from("housing_applications").delete().eq("id",e);if(n)throw n;await h()}catch(e){alert(e.message)}finally{V(!1)}}},ee=async e=>{if(window.confirm("Are you sure you want to remove this assignment? The room will become available again.")){console.log("Starting deletion for assignment:",e),V(!0);try{let a=(0,t.createClient)(),{data:l,error:s}=await a.from("housing_assignments").select("room_id").eq("id",e).single();if(s&&console.error("Error fetching assignment before delete:",s),console.log("Found assignment to delete:",l),l?.room_id){let{error:e}=await a.from("housing_rooms").update({status:"AVAILABLE"}).eq("id",l.room_id);if(e){if(console.error("Failed to update room status:",e),!window.confirm("Failed to update room status. Continue deleting assignment anyway?"))return}else console.log("Room status updated to AVAILABLE")}let{error:n}=await a.from("housing_assignments").delete().eq("id",e);if(n)throw console.error("Delete failed:",n),Error(`Failed to delete assignment: ${n.message} (Code: ${n.code})`);console.log("Assignment deleted successfully. Refreshing..."),await new Promise(e=>setTimeout(e,500)),await h(),console.log("Refresh complete."),alert("Assignment removed successfully.")}catch(e){console.error("handleDeleteAssignment Exception:",e),alert(`Error removing assignment: ${e.message}`)}finally{V(!1)}}},ea=async e=>{if(window.confirm("Are you sure you want to delete this room?")){V(!0);try{let a=(0,t.createClient)(),{error:l}=await a.from("housing_rooms").delete().eq("id",e);if(l)throw l;await h()}catch(e){alert(e.message)}finally{V(!1)}}},et=async e=>{if(window.confirm("Are you sure you want to delete this entire building? This will only work if the building has no rooms.")){V(!0);try{let a=(0,t.createClient)(),{error:l}=await a.from("housing_buildings").delete().eq("id",e);if(l)throw l;await h()}catch(e){alert(e.message)}finally{V(!1)}}},el=async e=>{V(!0);try{let a=(0,t.createClient)(),{error:l}=await a.from("housing_buildings").update(q).eq("id",e);if(l)throw l;T(null),await h()}catch(e){alert(e.message)}finally{V(!1)}},es=async e=>{V(!0);try{let a=(0,t.createClient)(),{error:l}=await a.from("housing_rooms").update(X).eq("id",e);if(l)throw l;Y(null),await h()}catch(e){alert(e.message)}finally{V(!1)}};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-black uppercase tracking-tighter mb-1",children:"Housing Management"}),(0,a.jsx)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase tracking-widest",children:"Review Applications & Assign Rooms"})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(l.default,{href:"/admin/housing/finance",className:"px-6 py-3 bg-neutral-100 border-2 border-black rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-black hover:text-white transition-all flex items-center gap-2",children:[(0,a.jsx)(b.CurrencyEur,{size:14,weight:"bold"})," Finance Console"]}),(0,a.jsxs)("button",{onClick:()=>F(!0),className:"px-6 py-3 bg-black text-white rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all flex items-center gap-2",children:[(0,a.jsx)(g.Plus,{size:14,weight:"bold"})," Add Building"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white border-2 border-black p-4 rounded-sm",children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Total Applications"}),(0,a.jsx)("p",{className:"text-2xl font-black",children:J.totalApplications})]}),(0,a.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-500 p-4 rounded-sm",children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-amber-600 mb-1",children:"Pending"}),(0,a.jsx)("p",{className:"text-2xl font-black text-amber-700",children:J.pending})]}),(0,a.jsxs)("div",{className:"bg-green-50 border-2 border-green-500 p-4 rounded-sm",children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-green-600 mb-1",children:"Approved"}),(0,a.jsx)("p",{className:"text-2xl font-black text-green-700",children:J.approved})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-500 p-4 rounded-sm",children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-blue-600 mb-1",children:"Assignments"}),(0,a.jsx)("p",{className:"text-2xl font-black text-blue-700",children:J.totalAssignments})]}),(0,a.jsxs)("div",{className:"bg-white border-2 border-black p-4 rounded-sm",children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Available Rooms"}),(0,a.jsx)("p",{className:"text-2xl font-black",children:J.availableRooms})]}),(0,a.jsxs)("div",{className:"bg-white border-2 border-black p-4 rounded-sm",children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Buildings"}),(0,a.jsx)("p",{className:"text-2xl font-black",children:J.totalBuildings})]})]}),(0,a.jsx)("div",{className:"border-b-2 border-neutral-200",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("button",{onClick:()=>w("applications"),className:`px-4 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${"applications"===N?"text-black border-b-2 border-black -mb-0.5":"text-neutral-400 hover:text-neutral-600"}`,children:["Applications (",G.length,")"]}),(0,a.jsxs)("button",{onClick:()=>w("assignments"),className:`px-4 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${"assignments"===N?"text-black border-b-2 border-black -mb-0.5":"text-neutral-400 hover:text-neutral-600"}`,children:["Assignments (",n.length,")"]}),(0,a.jsxs)("button",{onClick:()=>w("buildings"),className:`px-4 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${"buildings"===N?"text-black border-b-2 border-black -mb-0.5":"text-neutral-400 hover:text-neutral-600"}`,children:["Buildings & Rooms (",p.length,")"]})]})}),"applications"===N?(0,a.jsx)("div",{className:"space-y-4",children:0===G.length?(0,a.jsxs)("div",{className:"bg-neutral-50 border-2 border-neutral-200 p-12 rounded-sm text-center",children:[(0,a.jsx)(d.Clock,{size:48,weight:"regular",className:"mx-auto text-neutral-300 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-black uppercase mb-2",children:"No Applications Requiring Action"}),(0,a.jsx)("p",{className:"text-sm text-neutral-600",children:"All applications are either pending payment or already assigned."})]}):G.map(e=>(0,a.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("h3",{className:"text-lg font-black uppercase",children:[e.student?.user?.first_name," ",e.student?.user?.last_name]}),(0,a.jsxs)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase mt-1",children:["Student ID: ",e.student?.user?.student_number||e.student?.student_id||"N/A"]})]}),(0,a.jsx)("span",{className:`px-3 py-1 rounded-full text-[8px] font-black uppercase ${"APPROVED"===e.status?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:"APPROVED"===e.status?"Deposit Paid":e.status})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Semester"}),(0,a.jsx)("p",{className:"font-bold",children:e.semester?.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Preferred Building"}),(0,a.jsx)("p",{className:"font-bold",children:e.preferred_building?.name||"No Preference"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Move-in Date"}),(0,a.jsx)("p",{className:"font-bold",children:new Date(e.move_in_date).toISOString().split("T")[0]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Move-out Date"}),(0,a.jsx)("p",{className:"font-bold",children:new Date(e.move_out_date).toISOString().split("T")[0]})]})]}),e.notes&&(0,a.jsxs)("div",{className:"mb-4 p-3 bg-neutral-50 rounded-sm",children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Notes"}),(0,a.jsx)("p",{className:"text-sm",children:e.notes})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:()=>{E(e),H(!0)},className:"px-4 py-2 bg-black text-white rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all flex items-center gap-2",children:[(0,a.jsx)(x,{size:14,weight:"bold"})," Assign Room"]}),(0,a.jsxs)("button",{onClick:()=>W(e.id),className:"px-4 py-2 border-2 border-red-200 text-red-600 rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-red-50 transition-all flex items-center gap-2",children:[(0,a.jsx)(c.Trash,{size:14,weight:"bold"})," Delete"]})]})]},e.id))}):"assignments"===N?(0,a.jsx)("div",{className:"space-y-4",children:0===n.length?(0,a.jsxs)("div",{className:"bg-neutral-50 border-2 border-neutral-200 p-12 rounded-sm text-center",children:[(0,a.jsx)(o.House,{size:48,weight:"regular",className:"mx-auto text-neutral-300 mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-black uppercase mb-2",children:"No Room Assignments"}),(0,a.jsx)("p",{className:"text-sm text-neutral-600",children:"No students have been assigned rooms yet."})]}):n.map(e=>(0,a.jsxs)("div",{className:"bg-white border-2 border-green-500 p-6 rounded-sm",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-black uppercase",children:[e.student?.user?.first_name," ",e.student?.user?.last_name]}),(0,a.jsxs)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase mt-1",children:["Student ID: ",e.student?.user?.student_number||e.student?.student_id||"N/A"]})]}),(0,a.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[8px] font-black uppercase",children:e.status}),(0,a.jsx)("button",{onClick:()=>ee(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-sm transition-all",title:"Remove Assignment",children:(0,a.jsx)(m.XCircle,{size:20,weight:"bold"})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Building"}),(0,a.jsx)("p",{className:"font-bold",children:e.room?.building?.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Room Number"}),(0,a.jsx)("p",{className:"font-bold",children:e.room?.room_number})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Duration"}),(0,a.jsxs)("p",{className:"text-sm",children:[new Date(e.start_date).toISOString().split("T")[0]," - ",new Date(e.end_date).toISOString().split("T")[0]]})]})]})]},e.id))}):(0,a.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:p.map(e=>{let t=s.filter(a=>a.building_id===e.id),l=Math.round(n.filter(a=>a.room?.building_id===e.id).length/10*100);return(0,a.jsxs)("div",{className:"bg-white border-2 border-black p-6 rounded-sm shadow-[4px_4px_0px_0px_rgba(0,0,0,0.1)]",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[z===e.id?(0,a.jsxs)("div",{className:"flex-1 space-y-2 mr-4",children:[(0,a.jsx)("input",{className:"w-full px-2 py-1 text-sm border-2 border-black font-bold outline-none",value:q.name,onChange:e=>$({...q,name:e.target.value})}),(0,a.jsx)("input",{className:"w-full px-2 py-1 text-[10px] border-2 border-neutral-200 font-bold outline-none",value:q.campus_location,onChange:e=>$({...q,campus_location:e.target.value})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>el(e.id),className:"p-1 bg-black text-white rounded-sm hover:bg-neutral-800",children:(0,a.jsx)(f.Check,{size:14,weight:"bold"})}),(0,a.jsx)("button",{onClick:()=>T(null),className:"p-1 border-2 border-neutral-200 rounded-sm hover:bg-neutral-100",children:(0,a.jsx)(v.X,{size:14,weight:"bold"})})]})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-black uppercase tracking-tighter",children:e.name}),(0,a.jsx)("p",{className:"text-[10px] font-bold text-neutral-500 uppercase",children:e.campus_location})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[z!==e.id&&(0,a.jsx)("button",{onClick:()=>{T(e.id),$({name:e.name,campus_location:e.campus_location})},className:"p-2 text-neutral-600 hover:bg-neutral-50 rounded-sm transition-all",title:"Edit Building",children:(0,a.jsx)(i.PencilSimple,{size:20,weight:"bold"})}),(0,a.jsx)("button",{onClick:()=>et(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-sm transition-all",title:"Delete Building",children:(0,a.jsx)(c.Trash,{size:20})}),(0,a.jsx)(u.Buildings,{className:"text-neutral-400",size:24,weight:"regular"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Occupancy"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex-1 h-2 bg-neutral-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-black transition-all",style:{width:`${l}%`}})}),(0,a.jsxs)("span",{className:"text-xs font-bold",children:[l,"%"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Avail. Rooms"}),(0,a.jsx)("p",{className:"text-lg font-black",children:t.length})]})]}),(0,a.jsx)("button",{onClick:()=>k(e),className:"w-full px-4 py-2 border-2 border-black text-[10px] font-black uppercase tracking-widest hover:bg-black hover:text-white transition-all",children:"View Room Details"})]},e.id)})}),y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white border-4 border-black rounded-sm max-w-4xl w-full max-h-[90vh] overflow-y-auto p-8 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tighter",children:y.name}),(0,a.jsx)("p",{className:"text-xs font-bold text-neutral-500 uppercase tracking-widest",children:y.campus_location})]}),(0,a.jsx)("button",{onClick:()=>k(null),className:"p-2 border-2 border-black hover:bg-neutral-100 transition-all",children:(0,a.jsx)(m.XCircle,{size:20})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b-2 border-neutral-100 pb-4",children:[(0,a.jsx)("h3",{className:"text-sm font-black uppercase",children:"Room Inventory"}),(0,a.jsxs)("button",{onClick:()=>S(!0),className:"px-4 py-2 bg-black text-white rounded-sm text-[8px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all",children:[(0,a.jsx)(g.Plus,{size:10,weight:"bold",className:"inline mr-1"})," Add Room"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.filter(e=>e.building_id===y.id).map(e=>(0,a.jsxs)("div",{className:"p-4 border-2 border-green-200 bg-green-50 rounded-sm relative group",children:[(0,a.jsx)("div",{className:"flex justify-between items-start mb-2",children:O===e.id?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("input",{className:"w-20 px-1 py-0.5 text-sm border-2 border-black font-bold outline-none",value:X.room_number,onChange:e=>U({...X,room_number:e.target.value})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>es(e.id),className:"p-1 bg-black text-white rounded-sm",children:(0,a.jsx)(f.Check,{size:10,weight:"bold"})}),(0,a.jsx)("button",{onClick:()=>Y(null),className:"p-1 border border-neutral-300 rounded-sm",children:(0,a.jsx)(v.X,{size:10,weight:"bold"})})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"font-black text-lg",children:["#",e.room_number]}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:()=>{Y(e.id),U({room_number:e.room_number,capacity:e.capacity,monthly_rate:e.monthly_rate})},className:"p-1 text-neutral-400 hover:text-black transition-opacity",children:(0,a.jsx)(i.PencilSimple,{size:12,weight:"bold"})}),(0,a.jsx)("span",{className:"text-[8px] font-black uppercase bg-green-200 text-green-700 px-2 py-0.5 rounded-full",children:"Available"})]})]})}),(0,a.jsx)("div",{className:"text-[10px] space-y-1",children:O===e.id?(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("input",{type:"number",className:"px-1 py-0.5 border border-neutral-300 outline-none",value:X.capacity,onChange:e=>U({...X,capacity:Number(e.target.value)}),placeholder:"Cap"}),(0,a.jsx)("input",{type:"number",className:"px-1 py-0.5 border border-neutral-300 outline-none",value:X.monthly_rate,onChange:e=>U({...X,monthly_rate:Number(e.target.value)}),placeholder:"€"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"font-bold uppercase text-neutral-500",children:["Capacity: ",e.capacity]}),(0,a.jsxs)("p",{className:"font-bold uppercase text-neutral-500",children:["Rate: €",e.monthly_rate,"/mo"]})]})}),(0,a.jsx)("button",{onClick:()=>ea(e.id),className:"mt-3 w-full py-1 text-[8px] font-black uppercase text-red-600 border border-red-200 hover:bg-red-50 rounded-sm transition-all",children:"Delete Room"})]},e.id)),n.filter(e=>e.room?.building_id===y.id).map(e=>(0,a.jsxs)("div",{className:"p-4 border-2 border-neutral-200 bg-neutral-50 rounded-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("p",{className:"font-black text-lg",children:["#",e.room?.room_number]}),(0,a.jsx)("span",{className:"text-[8px] font-black uppercase bg-neutral-200 text-neutral-500 px-2 py-0.5 rounded-full",children:"Occupied"})]}),(0,a.jsxs)("div",{className:"text-[10px] space-y-1",children:[(0,a.jsxs)("p",{className:"font-black text-black",children:["OCCUPIED BY: ",e.student?.user?.first_name," ",e.student?.user?.last_name]}),(0,a.jsxs)("p",{className:"font-bold uppercase text-neutral-500",children:["Until: ",(0,j.formatToDDMMYYYY)(e.end_date)]})]})]},e.id))]})})]})}),A&&_&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white border-4 border-black rounded-sm max-w-2xl w-full max-h-[80vh] overflow-y-auto p-8",children:[(0,a.jsxs)("h2",{className:"text-xl font-black uppercase mb-6",children:["Assign Room to ",_.student?.user?.first_name," ",_.student?.user?.last_name]}),M&&(0,a.jsx)("div",{className:"bg-red-50 border-2 border-red-200 p-4 rounded-sm mb-6",children:(0,a.jsx)("p",{className:"text-sm text-red-600 font-medium",children:M})}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("strong",{children:"Preferred Building:"})," ",_.preferred_building?.name||"No preference"]}),(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("strong",{children:"Available Rooms:"})," ",s.length]})]}),(0,a.jsx)("div",{className:"space-y-3 mb-6 max-h-96 overflow-y-auto",children:s.map(e=>(0,a.jsx)("button",{onClick:()=>Q(_.id,e.id),disabled:Z,className:"w-full text-left p-4 border-2 border-neutral-200 rounded-sm hover:border-black transition-all disabled:opacity-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"font-black",children:[e.building?.name," - Room ",e.room_number]}),(0,a.jsx)("p",{className:"text-sm text-neutral-600",children:e.building?.campus_location}),(0,a.jsxs)("p",{className:"text-xs text-neutral-500 mt-1",children:["Capacity: ",e.capacity," | €",e.monthly_rate,"/month"]})]}),(0,a.jsx)(x,{className:"text-neutral-400",size:24,weight:"regular"})]})},e.id))}),(0,a.jsx)("button",{onClick:()=>{H(!1),E(null),C("")},className:"w-full px-4 py-3 border-2 border-black rounded-sm text-[10px] font-black uppercase tracking-widest hover:bg-neutral-100 transition-all",children:"Cancel"})]})}),L&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white border-4 border-black p-8 max-w-md w-full shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,a.jsx)("h2",{className:"text-xl font-black uppercase mb-6",children:"Add New Building"}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Building Name"}),(0,a.jsx)("input",{className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:D.name,onChange:e=>P({...D,name:e.target.value}),placeholder:"e.g. North Hall"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Campus Location"}),(0,a.jsx)("input",{className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:D.campus_location,onChange:e=>P({...D,campus_location:e.target.value}),placeholder:"e.g. Helsinki Campus"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>F(!1),className:"flex-1 py-3 border-2 border-black text-[10px] font-black uppercase tracking-widest hover:bg-neutral-100 transition-all",children:"Cancel"}),(0,a.jsx)("button",{onClick:async()=>{V(!0);try{let e=(0,t.createClient)(),{error:a}=await e.from("housing_buildings").insert(D);if(a)throw a;F(!1),window.location.reload()}catch(e){alert(e.message)}finally{V(!1)}},disabled:Z||!D.name||!D.campus_location,className:"flex-1 py-3 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all disabled:opacity-50",children:Z?"Adding...":"Confirm"})]})]})}),R&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white border-4 border-black p-8 max-w-md w-full shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:[(0,a.jsx)("h2",{className:"text-xl font-black uppercase mb-6",children:"Add New Room"}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Select Building"}),(0,a.jsxs)("select",{className:"w-full px-4 py-2 border-2 border-black font-bold outline-none bg-white",value:I.building_id,onChange:e=>B({...I,building_id:e.target.value}),children:[(0,a.jsx)("option",{value:"",children:"Choose Building..."}),p.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Room Number"}),(0,a.jsx)("input",{className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:I.room_number,onChange:e=>B({...I,room_number:e.target.value}),placeholder:"e.g. 101"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Capacity"}),(0,a.jsx)("input",{type:"number",className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:I.capacity,onChange:e=>B({...I,capacity:Number(e.target.value)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-[10px] font-black uppercase text-neutral-400 mb-1",children:"Rate (€/mo)"}),(0,a.jsx)("input",{type:"number",className:"w-full px-4 py-2 border-2 border-black font-bold outline-none",value:I.monthly_rate,onChange:e=>B({...I,monthly_rate:Number(e.target.value)})})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>S(!1),className:"flex-1 py-3 border-2 border-black text-[10px] font-black uppercase tracking-widest hover:bg-neutral-100 transition-all",children:"Cancel"}),(0,a.jsx)("button",{onClick:async()=>{V(!0);try{let e=(0,t.createClient)(),{error:a}=await e.from("housing_rooms").insert({...I,amenities:[]});if(a)throw a;S(!1),window.location.reload()}catch(e){alert(e.message)}finally{V(!1)}},disabled:Z||!I.building_id||!I.room_number,className:"flex-1 py-3 bg-black text-white text-[10px] font-black uppercase tracking-widest hover:bg-neutral-800 transition-all disabled:opacity-50",children:Z?"Adding...":"Confirm"})]})]})})]})}function w(){let[e,i]=(0,r.useState)({applications:[],availableRooms:[],assignments:[],buildings:[]}),[c,o]=(0,r.useState)(!0),d=async()=>{o(!0);let e=(0,t.createClient)();try{let{data:a}=await e.from("housing_applications").select("*, student:students(*, user:profiles(*)), semester:semesters(name), preferred_building:housing_buildings(name, campus_location)").order("created_at",{ascending:!1});console.log("Fetched Housing Apps:",a);let{data:t}=await e.from("housing_rooms").select("*, building:housing_buildings(*)").eq("status","AVAILABLE").order("building_id"),{data:l,error:s}=await e.from("housing_assignments").select(`
                    *,
                    student:students(*, user:profiles(*)),
                    room:housing_rooms(
                        *,
                        building:housing_buildings(*)
                    )
                `).order("created_at",{ascending:!1});console.log("Fetched Housing Assignments:",l),s&&console.error("Error fetching assignments:",s);let{data:n}=await e.from("housing_buildings").select("*").order("name");i({applications:a||[],availableRooms:t||[],assignments:l||[],buildings:n||[]})}catch(e){console.error("Error fetching housing data:",e)}finally{o(!1)}};return((0,r.useEffect)(()=>{d()},[]),c)?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(n.CircleNotch,{className:"animate-spin text-neutral-400",size:40,weight:"bold"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-neutral-50/50 p-4 md:p-8 font-sans animate-in fade-in duration-500",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)(l.default,{href:"/admin",className:"inline-flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-neutral-500 hover:text-black transition-colors",children:[(0,a.jsx)(s.CaretLeft,{size:14})," Back to Admin Dashboard"]})}),(0,a.jsx)(N,{applications:e.applications,availableRooms:e.availableRooms,assignments:e.assignments,buildings:e.buildings,onRefresh:d})]}),");"]})}e.s(["default",()=>w],25294)}]);