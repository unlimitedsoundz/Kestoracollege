(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27269,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M236,128a108,108,0,0,1-216,0c0-42.52,24.73-81.34,63-98.9A12,12,0,1,1,93,50.91C63.24,64.57,44,94.83,44,128a84,84,0,0,0,168,0c0-33.17-19.24-63.43-49-77.09A12,12,0,1,1,173,29.1C211.27,46.66,236,85.48,236,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,176A72,72,0,0,1,92,65.64a8,8,0,0,1,8,13.85,56,56,0,1,0,56,0,8,8,0,0,1,8-13.85A72,72,0,0,1,128,200Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M230,128a102,102,0,0,1-204,0c0-40.18,23.35-76.86,59.5-93.45a6,6,0,0,1,5,10.9C58.61,60.09,38,92.49,38,128a90,90,0,0,0,180,0c0-35.51-20.61-67.91-52.5-82.55a6,6,0,0,1,5-10.9C206.65,51.14,230,87.82,230,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M228,128a100,100,0,0,1-200,0c0-39.4,22.9-75.37,58.33-91.63a4,4,0,1,1,3.34,7.27C57.07,58.6,36,91.71,36,128a92,92,0,0,0,184,0c0-36.29-21.07-69.4-53.67-84.36a4,4,0,1,1,3.34-7.27C205.1,52.63,228,88.6,228,128Z"}))]]);e.s(["default",()=>a])},87583,e=>{"use strict";var t=e.i(71645),a=e.i(69464),l=e.i(27269);let r=t.forwardRef((e,r)=>t.createElement(a.default,{ref:r,...e,weights:l.default}));r.displayName="CircleNotchIcon",e.s(["CircleNotch",()=>r])},58697,e=>{"use strict";function t(e){if(!e)return"-";let t=new Date(e);if(isNaN(t.getTime()))return"-";let a=String(t.getDate()).padStart(2,"0"),l=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return`${a}/${l}/${r}`}e.s(["formatToDDMMYYYY",()=>t])},16928,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M176,128,96,208V48Z",opacity:"0.2"}),t.createElement("path",{d:"M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"}))]]);e.s(["default",()=>a])},31659,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M168.49,104.49,145,128l23.52,23.51a12,12,0,0,1-17,17L128,145l-23.51,23.52a12,12,0,0,1-17-17L111,128,87.51,104.49a12,12,0,0,1,17-17L128,111l23.51-23.52a12,12,0,0,1,17,17ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,130.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32L139.31,128Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M164.24,100.24,136.48,128l27.76,27.76a6,6,0,1,1-8.48,8.48L128,136.48l-27.76,27.76a6,6,0,0,1-8.48-8.48L119.52,128,91.76,100.24a6,6,0,0,1,8.48-8.48L128,119.52l27.76-27.76a6,6,0,0,1,8.48,8.48ZM230,128A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M165.66,101.66,139.31,128l26.35,26.34a8,8,0,0,1-11.32,11.32L128,139.31l-26.34,26.35a8,8,0,0,1-11.32-11.32L116.69,128,90.34,101.66a8,8,0,0,1,11.32-11.32L128,116.69l26.34-26.35a8,8,0,0,1,11.32,11.32ZM232,128A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M162.83,98.83,133.66,128l29.17,29.17a4,4,0,0,1-5.66,5.66L128,133.66,98.83,162.83a4,4,0,0,1-5.66-5.66L122.34,128,93.17,98.83a4,4,0,0,1,5.66-5.66L128,122.34l29.17-29.17a4,4,0,1,1,5.66,5.66ZM228,128A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"}))]]);e.s(["default",()=>a])},94909,e=>{"use strict";var t=e.i(71645),a=e.i(69464),l=e.i(31659);let r=t.forwardRef((e,r)=>t.createElement(a.default,{ref:r,...e,weights:l.default}));r.displayName="XCircleIcon",e.s(["XCircle",()=>r])},8145,e=>{"use strict";e.i(29225);var t=e.i(72390);function a(){return(0,t.createBrowserClient)("https://mrqzlmkdhzwvbpljikjz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1ycXpsbWtkaHp3dmJwbGppa2p6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1MTI5ODMsImV4cCI6MjA4NTA4ODk4M30.ILwXM7fhNnip6Mq5HF04poDCzdhcNO69AVnYmheSmeY")}e.s(["createAdminClient",()=>a])},78688,e=>{"use strict";var t=e.i(90615),a=e.i(8145);async function l(e){let a=await (0,t.createClient)(),{error:l}=await a.from("Course").delete().eq("id",e);if(l)throw Error(l.message)}async function r(e){let a=await (0,t.createClient)(),{error:l}=await a.from("Subject").delete().eq("id",e);if(l)throw Error(l.message)}async function s(e){let a=await (0,t.createClient)(),{error:l}=await a.from("Faculty").delete().eq("id",e);if(l)throw Error(l.message)}async function n(){console.log("SERVER ACTION: getAdmissionsApplications called");let e=(0,a.createAdminClient)();try{let{data:t,error:a}=await e.from("applications").select(`
                *,
                course:Course(title),
                user:profiles(first_name, last_name, email, student_id)
            `).order("created_at",{ascending:!1});if(a)throw a;return{success:!0,data:t}}catch(e){return console.error("getAdmissionsApplications Error:",e),{success:!1,error:e.message}}}async function i(e){console.log("SERVER ACTION: getAdmissionsApplicationById called for",e);let t=(0,a.createAdminClient)();try{let{data:a,error:l}=await t.from("applications").select(`
                *,
                course:Course(*, school:School(slug)),
                user:profiles(*),
                documents:application_documents(*),
                offer:admission_offers(*)
            `).eq("id",e).single();if(l)throw l;let{data:r}=await t.from("admissions").select("*").eq("user_id",a.user_id).order("created_at",{ascending:!1}).limit(1).maybeSingle();return{success:!0,data:a,admissions:r}}catch(e){return console.error("getAdmissionsApplicationById Error:",e),{success:!1,error:e.message}}}async function c(e,t){console.log("SERVER ACTION: updateApplicationInternalNotesAdmin called for",e);let l=(0,a.createAdminClient)();try{let{error:a}=await l.from("applications").update({internal_notes:t}).eq("id",e);if(a)throw a;return{success:!0}}catch(e){return console.error("updateApplicationInternalNotesAdmin Error:",e),{success:!1,error:e.message}}}e.s(["deleteCourse",()=>l,"deleteFaculty",()=>s,"deleteSubject",()=>r,"getAdmissionsApplicationById",()=>i,"getAdmissionsApplications",()=>n,"updateApplicationInternalNotesAdmin",()=>c])},68817,e=>{"use strict";var t=e.i(71645),a=e.i(69464),l=e.i(16928);let r=t.forwardRef((e,r)=>t.createElement(a.default,{ref:r,...e,weights:l.default}));r.displayName="CaretRightIcon",e.s(["CaretRight",()=>r])},42125,e=>{"use strict";var t=e.i(43476),a=e.i(90615),l=e.i(78688),r=e.i(22016),s=e.i(71645),n=e.i(52450),i=e.i(94909),c=e.i(68817),d=e.i(25209),o=e.i(87583),m=e.i(58697);function u(){let[e,u]=(0,s.useState)([]),[h,x]=(0,s.useState)(!0),[g,E]=(0,s.useState)(null),[f,b]=(0,s.useState)(""),[N,A]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{let e=(0,a.createClient)();try{let{data:{user:t}}=await e.auth.getUser();A(t);let a=await (0,l.getAdmissionsApplications)();if(!a.success)throw Error(a.error);u(a.data||[])}catch(e){console.error("Error fetching applications:",e),E(e.message||"Failed to fetch applications")}finally{x(!1)}})()},[]);let w=e.filter(e=>{let t=f.toLowerCase();return!t||e.user?.first_name?.toLowerCase().includes(t)||e.user?.last_name?.toLowerCase().includes(t)||e.user?.email?.toLowerCase().includes(t)||e.course?.title?.toLowerCase().includes(t)});return h?(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)(o.CircleNotch,{className:"animate-spin text-neutral-400",size:40,weight:"bold"})}):g?(0,t.jsxs)("div",{className:"p-8 bg-red-50 border border-red-100 rounded-3xl text-center",children:[(0,t.jsx)(i.XCircle,{size:40,className:"text-red-500 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-bold text-red-900 uppercase",children:"Fetch Error"}),(0,t.jsx)("p",{className:"text-red-600 font-medium text-sm mt-1",children:g}),(0,t.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-6 px-6 py-2 bg-red-600 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-red-700 transition-all",children:"Retry Fetch"})]}):(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-semibold text-neutral-900 uppercase tracking-tight",children:"Admissions Dashboard"}),(0,t.jsx)("p",{className:"text-neutral-500 text-sm font-medium",children:"Review and process student applications across all programmes."})]}),(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(d.MagnifyingGlass,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",size:16,weight:"bold"}),(0,t.jsx)("input",{placeholder:"Search applications...",value:f,onChange:e=>b(e.target.value),className:"bg-white border-none pl-10 pr-4 py-2.5 rounded-xl text-sm outline-none focus:ring-1 focus:ring-black transition-all w-64 font-medium"})]})})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:[{label:"All",count:e.length,status:null},{label:"Submitted",count:e.filter(e=>"SUBMITTED"===e.status).length,status:"SUBMITTED"},{label:"Paid",count:e.filter(e=>"PAYMENT_SUBMITTED"===e.status).length,status:"PAYMENT_SUBMITTED"},{label:"Enrolled",count:e.filter(e=>"ENROLLED"===e.status).length,status:"ENROLLED"},{label:"Reviewing",count:e.filter(e=>"UNDER_REVIEW"===e.status||"DOCS_REQUIRED"===e.status).length,status:"UNDER_REVIEW"},{label:"Admitted",count:e.filter(e=>"ADMITTED"===e.status||"OFFER_ACCEPTED"===e.status).length,status:"ADMITTED"},{label:"Drafts",count:e.filter(e=>"DRAFT"===e.status).length,status:"DRAFT"}].map(e=>(0,t.jsxs)("div",{className:"bg-white p-4 rounded-2xl flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-semibold text-neutral-400 uppercase tracking-widest leading-none",children:e.label}),(0,t.jsx)("span",{className:"text-2xl font-semibold text-neutral-900",children:e.count})]},e.label))}),(0,t.jsx)("div",{className:"bg-white rounded-3xl overflow-hidden shadow-sm border border-neutral-100",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"bg-neutral-50/50",children:[(0,t.jsx)("th",{className:"p-6 text-[10px] font-semibold text-neutral-400 uppercase tracking-wider",children:"Applicant Details"}),(0,t.jsx)("th",{className:"p-6 text-[10px] font-semibold text-neutral-400 uppercase tracking-wider",children:"Programme"}),(0,t.jsx)("th",{className:"p-6 text-[10px] font-semibold text-neutral-400 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"p-6 text-[10px] font-semibold text-neutral-400 uppercase tracking-wider",children:"Submission Date"}),(0,t.jsx)("th",{className:"p-6 text-[10px] font-semibold text-neutral-400 uppercase tracking-wider text-right",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-neutral-50 text-neutral-900",children:w.length>0?w.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-neutral-50/50 transition-colors group",children:[(0,t.jsx)("td",{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-neutral-900 rounded-2xl flex items-center justify-center text-white font-semibold text-lg",children:e.user?.first_name?.[0]||e.user?.email?.[0]?.toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-semibold text-base uppercase tracking-tight",children:(!e.user?.first_name||e.user?.first_name==="Applicant")&&e.personal_info?.firstName?`${e.personal_info.firstName} ${e.personal_info.lastName||""}`:`${e.user?.first_name||""} ${e.user?.last_name||""}`}),(0,t.jsxs)("div",{className:"text-xs font-semibold text-neutral-400",children:[e.user?.email," â€¢ ID: ",(0,t.jsx)("span",{className:"text-neutral-900",children:e.user?.student_id||"N/A"})]})]})]})}),(0,t.jsx)("td",{className:"p-6",children:(0,t.jsx)("div",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-tight leading-tight max-w-[200px]",children:e.course?.title})}),(0,t.jsx)("td",{className:"p-6",children:(0,t.jsx)(p,{status:e.status})}),(0,t.jsx)("td",{className:"p-6 text-sm font-bold text-neutral-500",children:e.submitted_at?(0,m.formatToDDMMYYYY)(e.submitted_at):"In Draft"}),(0,t.jsx)("td",{className:"p-6 text-right",children:(0,t.jsxs)(r.default,{href:`/admin/admissions/review?id=${e.id}`,className:"inline-flex items-center gap-2 bg-neutral-100 px-4 py-2 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-black hover:text-white transition-all shadow-sm active:scale-95",children:["Review ",(0,t.jsx)(c.CaretRight,{size:14,weight:"bold"})]})})]},e.id)):(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:5,className:"p-20 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-neutral-50 rounded-full flex items-center justify-center mx-auto mb-4 text-neutral-300",children:(0,t.jsx)(n.FileText,{size:32,weight:"regular"})}),(0,t.jsx)("h3",{className:"font-black text-xl text-neutral-900 uppercase mb-2",children:"No Applications Found"}),(0,t.jsx)("p",{className:"text-neutral-500 max-w-xs mx-auto text-sm font-medium",children:"When students submit their applications, they will appear here for review."})]})})})]})})})]})}function p({status:e}){let a={DRAFT:"bg-neutral-100 text-neutral-400 border-neutral-200",SUBMITTED:"bg-blue-50 text-blue-600 border-blue-100",PAYMENT_SUBMITTED:"bg-cyan-50 text-cyan-600 border-cyan-100",ENROLLED:"bg-emerald-900 text-white border-emerald-900",UNDER_REVIEW:"bg-amber-50 text-amber-600 border-amber-100",DOCS_REQUIRED:"bg-purple-50 text-purple-600 border-purple-100",ADMITTED:"bg-emerald-50 text-emerald-600 border-emerald-100",OFFER_ACCEPTED:"bg-emerald-900 text-white border-emerald-900",ADMISSION_LETTER_GENERATED:"bg-teal-50 text-teal-700 border-teal-200",REJECTED:"bg-red-50 text-red-600 border-red-100",OFFER_DECLINED:"bg-red-900 text-white border-red-900"};return(0,t.jsx)("span",{className:`px-2 py-1 rounded-md text-[10px] font-black uppercase tracking-tighter border ${a[e]||a.DRAFT}`,children:{ADMISSION_LETTER_GENERATED:"LETTER ISSUED",PAYMENT_SUBMITTED:"PAYMENT SENT",OFFER_ACCEPTED:"OFFER ACCEPTED",OFFER_DECLINED:"OFFER DECLINED",DOCS_REQUIRED:"DOCS NEEDED",UNDER_REVIEW:"REVIEWING"}[e]||e.replaceAll("_"," ")})}e.s(["default",()=>u])},30554,e=>{e.v(t=>Promise.all(["static/chunks/759121ff91f7c5a0.js"].map(t=>e.l(t))).then(()=>t(16720)))}]);