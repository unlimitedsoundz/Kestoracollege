(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27269,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M236,128a108,108,0,0,1-216,0c0-42.52,24.73-81.34,63-98.9A12,12,0,1,1,93,50.91C63.24,64.57,44,94.83,44,128a84,84,0,0,0,168,0c0-33.17-19.24-63.43-49-77.09A12,12,0,1,1,173,29.1C211.27,46.66,236,85.48,236,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,176A72,72,0,0,1,92,65.64a8,8,0,0,1,8,13.85,56,56,0,1,0,56,0,8,8,0,0,1,8-13.85A72,72,0,0,1,128,200Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M230,128a102,102,0,0,1-204,0c0-40.18,23.35-76.86,59.5-93.45a6,6,0,0,1,5,10.9C58.61,60.09,38,92.49,38,128a90,90,0,0,0,180,0c0-35.51-20.61-67.91-52.5-82.55a6,6,0,0,1,5-10.9C206.65,51.14,230,87.82,230,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M232,128a104,104,0,0,1-208,0c0-41,23.81-78.36,60.66-95.27a8,8,0,0,1,6.68,14.54C60.15,61.59,40,93.27,40,128a88,88,0,0,0,176,0c0-34.73-20.15-66.41-51.34-80.73a8,8,0,0,1,6.68-14.54C208.19,49.64,232,87,232,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M228,128a100,100,0,0,1-200,0c0-39.4,22.9-75.37,58.33-91.63a4,4,0,1,1,3.34,7.27C57.07,58.6,36,91.71,36,128a92,92,0,0,0,184,0c0-36.29-21.07-69.4-53.67-84.36a4,4,0,1,1,3.34-7.27C205.1,52.63,228,88.6,228,128Z"}))]]);e.s(["default",()=>a])},87583,e=>{"use strict";var t=e.i(71645),a=e.i(69464),s=e.i(27269);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:s.default}));l.displayName="CircleNotchIcon",e.s(["CircleNotch",()=>l])},44876,e=>{"use strict";var t=e.i(71645);let a=new Map([["bold",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"}))],["duotone",t.createElement(t.Fragment,null,t.createElement("path",{d:"M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z",opacity:"0.2"}),t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"}))],["fill",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"}))],["light",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"}))],["regular",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"}))],["thin",t.createElement(t.Fragment,null,t.createElement("path",{d:"M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"}))]]);e.s(["default",()=>a])},30233,e=>{"use strict";var t=e.i(71645),a=e.i(69464),s=e.i(44876);let l=t.forwardRef((e,l)=>t.createElement(a.default,{ref:l,...e,weights:s.default}));l.displayName="ClockIcon",e.s(["Clock",()=>l])},72906,e=>{"use strict";var t=e.i(43476),a=e.i(90615),s=e.i(56032),l=e.i(74795),r=e.i(25857),n=e.i(75685),i=e.i(30233),c=e.i(54169),d=e.i(66314),o=e.i(52450),m=e.i(73730),u=e.i(87583),x=e.i(71645),h=e.i(22016),p=e.i(80586);function f(){let[e,f]=(0,x.useState)([]),[g,b]=(0,x.useState)([]),[j,N]=(0,x.useState)(0),[v,E]=(0,x.useState)({SUBMITTED:0,UNDER_REVIEW:0,ADMITTED:0,REJECTED:0}),[w,A]=(0,x.useState)(!0);return((0,x.useEffect)(()=>{(async()=>{let e=(0,a.createClient)();try{let[{count:t},{count:a},{count:i},{count:c},{count:u},{count:x},{data:h,count:p},{count:g},{count:j}]=await Promise.all([e.from("Course").select("*",{count:"exact",head:!0}),e.from("News").select("*",{count:"exact",head:!0}),e.from("Event").select("*",{count:"exact",head:!0}),e.from("Subject").select("*",{count:"exact",head:!0}),e.from("Faculty").select("*",{count:"exact",head:!0}),e.from("Department").select("*",{count:"exact",head:!0}),e.from("applications").select("*, course:Course(title), user:profiles(first_name, last_name, email, avatar_url)",{count:"exact"}).neq("status","DRAFT").order("submitted_at",{ascending:!1}).limit(5),e.from("housing_applications").select("*",{count:"exact",head:!0}),e.from("registration_windows").select("*",{count:"exact",head:!0})]),{data:v}=await e.from("applications").select("status");N(p||0),b(h||[]),E({SUBMITTED:v?.filter(e=>"SUBMITTED"===e.status).length||0,UNDER_REVIEW:v?.filter(e=>"UNDER_REVIEW"===e.status||"DOCS_REQUIRED"===e.status).length||0,ADMITTED:v?.filter(e=>"ADMITTED"===e.status||"OFFER_ACCEPTED"===e.status).length||0,REJECTED:v?.filter(e=>"REJECTED"===e.status||"OFFER_DECLINED"===e.status).length||0}),f([{label:"Courses",count:t,icon:s.BookOpen,color:"bg-blue-500",href:"/admin/courses"},{label:"News Stories",count:a,icon:l.Newspaper,color:"bg-neutral-800",href:"/admin/news"},{label:"Campus Events",count:i,icon:n.Calendar,color:"bg-purple-500",href:"/admin/events"},{label:"Applications",count:p,icon:o.FileText,color:"bg-amber-500",href:"/admin/admissions"},{label:"Housing Applications",count:g,icon:m.House,color:"bg-teal-500",href:"/admin/housing"},{label:"Faculty Members",count:u,icon:r.Users,color:"bg-neutral-900",href:"/admin/faculty"},{label:"Academic Departments",count:x,icon:d.Buildings,color:"bg-emerald-600",href:"/admin/departments"},{label:"Registrar Windows",count:j,icon:o.FileText,color:"bg-indigo-600",href:"/admin/registrar"}])}catch(e){console.error("Error fetching dashboard data:",e)}finally{A(!1)}})()},[]),w)?(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)(u.CircleNotch,{className:"animate-spin text-neutral-400",size:40,weight:"bold"})}):(0,t.jsxs)("div",{className:"space-y-8 md:space-y-10 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-extrabold text-neutral-900 tracking-tight",children:"System Overview"}),(0,t.jsx)("p",{className:"text-neutral-500 mt-2",children:"Welcome back. Here's what's happening at Kestora College."})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>(0,t.jsxs)(h.default,{href:e.href,className:"bg-white p-6 rounded-2xl border border-neutral-200 shadow-sm hover:border-black transition-all group",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsx)("div",{className:`p-3 rounded-xl ${e.color} text-white shadow-lg`,children:(0,t.jsx)(e.icon,{size:24,weight:"bold"})}),(0,t.jsx)("span",{className:"text-2xl font-black text-neutral-900",children:e.count||0})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-neutral-500 font-bold uppercase text-xs tracking-widest",children:e.label}),(0,t.jsx)(c.ArrowRight,{size:14,weight:"bold",className:"text-neutral-300 group-hover:text-black transform group-hover:translate-x-1 transition-all"})]})]},e.label))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold flex items-center gap-2",children:[(0,t.jsx)(i.Clock,{size:20,weight:"bold",className:"text-amber-500"})," Recent Applications"]}),(0,t.jsx)(h.default,{href:"/admin/admissions",className:"text-xs font-bold text-neutral-400 hover:text-black transition-colors uppercase tracking-widest",children:"View All â†’"})]}),(0,t.jsx)("div",{className:"bg-white border border-neutral-200 rounded-2xl overflow-hidden shadow-sm",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-neutral-50 border-b border-neutral-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-4 text-xs font-bold text-neutral-400 uppercase",children:"Student"}),(0,t.jsx)("th",{className:"p-4 text-xs font-bold text-neutral-400 uppercase",children:"Applied For"}),(0,t.jsx)("th",{className:"p-4 text-xs font-bold text-neutral-400 uppercase text-right",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-neutral-50",children:g&&g.length>0?g.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-neutral-50 transition-colors",children:[(0,t.jsx)("td",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(p.UserAvatar,{src:e.user?.avatar_url,firstName:e.user?.first_name,email:e.user?.email,size:"sm",isLoggedIn:!0}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-bold text-neutral-900 leading-none mb-1",children:[e.user?.first_name," ",e.user?.last_name||e.user?.email?.split("@")[0]]}),(0,t.jsx)("div",{className:"text-[10px] text-neutral-400 font-bold uppercase tracking-widest leading-none",children:e.user?.email})]})]})}),(0,t.jsx)("td",{className:"p-4 text-sm text-neutral-600",children:e.course?.title}),(0,t.jsx)("td",{className:"p-4 text-right",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-amber-50 text-amber-600 rounded text-[10px] font-bold uppercase tracking-tight",children:e.status.replace("_"," ")})})]},e.id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:3,className:"p-8 text-center text-neutral-400",children:"No recent applications"})})})]})})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold",children:"Admissions Pipeline"}),(0,t.jsxs)("div",{className:"bg-neutral-900 p-8 rounded-3xl text-white shadow-2xl relative overflow-hidden group",children:[(0,t.jsx)(r.Users,{className:"absolute -right-4 -bottom-4 text-white/5 w-40 h-40 transform -rotate-12 group-hover:rotate-0 transition-transform duration-700",weight:"fill"}),(0,t.jsxs)("div",{className:"space-y-6 relative z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-4xl font-black mb-1",children:j||0}),(0,t.jsx)("div",{className:"text-neutral-400 text-xs font-bold uppercase tracking-widest",children:"Total Applications"})]}),(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-white/10",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-blue-400"})," Submitted"]}),(0,t.jsx)("div",{className:"font-bold",children:v.SUBMITTED})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-amber-400"})," Under Review"]}),(0,t.jsx)("div",{className:"font-bold",children:v.UNDER_REVIEW})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-400"})," Admitted"]}),(0,t.jsx)("div",{className:"font-bold",children:v.ADMITTED})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-neutral-300",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-400"})," Rejected"]}),(0,t.jsx)("div",{className:"font-bold",children:v.REJECTED})]})]})]})]}),(0,t.jsx)(h.default,{href:"/admin/admissions",className:"block p-4 bg-white border border-neutral-200 rounded-2xl text-center font-bold text-sm hover:bg-neutral-50 transition-colors",children:"Manage All Admissions"})]})]})]})}e.s(["default",()=>f])}]);